<div class="controls">
  <div class="form">
    <button class="btn btn-outline-secondary" (click)="toggleModal()">Add Control</button>
    <h2>Form</h2>
    <ul *ngIf="controls" class="list-group">
      <li *ngFor="let control of controls" class="list-group-item btn" (click)="selectControl(control)">
        <div>
          <h5 class="mb-1"> {{control.label}} </h5>
        </div>
        <p class="mb-1">{{control.controlType}}</p>
      </li>
      <li></li>
      <li></li>
    </ul>
  </div>
</div>

<!-- Modal -->
<div class="modal-open">
  <div id="exampleModalLive" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLiveLabel"
    aria-modal="true" [ngClass]="isShowModal ? 'show':''" [ngStyle]="{'display': isShowModal ? 'block' :''}">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLiveLabel">Modal title</h5>
          <button type="button" class="btn close" data-dismiss="modal" aria-label="Close" (click)="toggleModal()">
            <span aria-hidden="true">Ã—</span>
          </button>
        </div>
        <div class="modal-body" *ngIf="pControls && pform">
          <p>Woohoo, you're reading this text in a modal!</p>
          <form [formGroup]="pform" class="row" >
            <div *ngFor="let question of pControls" [ngClass]="question.cssClass">
              <app-dynamic-form [question]="question" [form]="pform"></app-dynamic-form>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="toggleModal()">Close</button>
          <button type="button" class="btn btn-primary" (click)="createControl()">Save changes</button>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="isShowModal" class="modal-backdrop fade show" [ngStyle]="{'z-index': isShowModal ? '1049' :''}"></div>
</div>